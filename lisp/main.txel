(fn parse (str)
    (var failed nil)
    (var result nil)
    (var error-message nil)
    ; ... imagine parser code here ...
    (package
        (var ok (not failed))
        (var value result)
        (var error error-message)))

(var result (parse (input)))
(if result:ok
    (print (cat "Success: " result:value))
    (print (cat "Failure: " result:error-message)))
